var wBooksApp=angular.module("wBooksApp",["ngResource","ngRoute"]);wBooksApp.controller("resultsCtrl",["$scope","$http",function(t,e){t.searched=!1,t.getSearch=function(){var e=t.searchTerm.replace(/ /g,"+"),s=0;o(e,s),t.getPage=function(){totalItems-=10,totalItems>0&&(s+=10,o(e,s))}};var o=function(o,s){url="https://www.googleapis.com/books/v1/volumes?q="+o+"&startIndex="+s+"&key=AIzaSyDE0-szZIrViSPNB284ckdUhvp3pyFLPsY",e.get(url).then(function(e){t.searched=!0,t.actualSearchTerm=t.searchTerm,0==s?(totalItems=e.data.totalItems,t.bookResults=e.data.items):t.bookResults=t.bookResults.concat(e.data.items)})};t.bookInfo=function(o){e.get("https://www.googleapis.com/books/v1/volumes/"+o+"?key=AIzaSyDE0-szZIrViSPNB284ckdUhvp3pyFLPsY").then(function(e){t.bookData=e.data})}}]),wBooksApp.filter("yearFilter",function(){return function(t){if(null!==t){return new Date(t).getFullYear()}}}),wBooksApp.filter("htmlFilter",["$sce",function(t){return function(e){return t.trustAsHtml(e)}}]);